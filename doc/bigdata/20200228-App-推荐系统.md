---
title: 20200228 App 推荐系统
date: 2020-02-28
---

## App 推荐系统

### App 推荐图

![](http://img.zwer.xyz/blog/app推荐.jpg)

### 协同过滤

- UserBaseCF 基于用户的协同过滤（适用于网站初期建设）
- ItemBaseCF 基于商品的协同过滤

推荐系统使用协同过滤思想，逻辑回归

### 推荐系统架构

> 跟你喜好相似的人喜欢的东西你也很有可能喜欢（userBaseCF）
> 跟你喜欢的东西类似的东西你也可能喜欢（itemBaseCF）
> 我们这里用到的是itembaseCF，本质是**依据特征找用户喜好规律**

- 基于用户的推荐（长虚线）

- 基于物品的推荐（短虚线

![](http://img.zwer.xyz/blog/20200228114052.png)

### 基于物品的协同过滤

> 给用户推荐和他兴趣相似的其他用户喜欢的物品

![](http://img.zwer.xyz/blog/20200228114214.png)

解释：如上图所示，用户 A  喜欢物品 A 、 C，用户 B 喜欢物品 B ，而用户 C 喜欢物品 A、C、D，由此看出用户 A 和用户 C 的喜欢相似，根据物品的协同过滤，将物品 D 推荐用户 A

| 物品/用户 | A    | B    | C    | D    |
| --------- | ---- | ---- | ---- | ---- |
| 用户 A    | √    |      | √    |      |
| 用户 B    |      | √    |      |      |
| 用户 C    | √    |      | √    | √    |

对于用户A，根据用户的历史偏好，这里只计算得出一个邻居用户C，然后将用户C喜欢的物品D推荐给用户A

### 矩阵计算推荐结果

> 同现矩阵*评分矩阵=推荐结果

![](http://img.zwer.xyz/blog/20200228115249.png)

###  app应用推荐的原理

> 根据你下载的 App去找到与这个App相似的一些App，然后以推荐列表的形式返回给你，这就是推荐的原理
>
> 如何找到与这个App相似的App呢？
> 需要基于其他用户的下载历史去计算挖掘一个基于物品相似的矩阵，百度地图，滴滴打车

### Recommender  架构图

> 本项目应用商店推荐系统架构图

![](http://img.zwer.xyz/blog/20200228120014.png)

### 模型使用（总体图）

![](http://img.zwer.xyz/blog/20200228120130.png)



### 模型使用（线上部分）

1. 加载模型数据（redis）
2. 线上使用推荐系统服务所需的参数，用户id、推荐类型、推荐数量
3. 根据商品词表的特征在模型文件中找到相应所有特征权重加和得到商品受欢迎程度的权重
4. 根据用户历史下载和每个商品分别关联在模型文件中查找权重，分别为每个商品加上关联权重，按照权重排序，得到推荐列表

![](http://img.zwer.xyz/blog/20200228120501.png)

### 推荐系统大体步骤

- 需求分析（架构推荐方案）
- 数据清洗（得到训练数据）
- 算法建模（得到模型结果）
- 模型使用（得到推荐结果）
- 结果评估（推荐结果评估）

## 代码部分

### 总体步骤

Scala文件产生数据 -> load到hive，处理数据 -> recommond.scala调用逻辑回归算法计算模型，生成模型文件 ->将模型文件拷贝到项目制定目录，运行项目 -> 浏览器访问测试









